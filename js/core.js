// ********************* EasyStar setup *********************
var easystar = new EasyStar.js();
var timeStep = 100; // pathway computation time interval in milliseconds

var level =[[519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519],
			[519, 0  , 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 289, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 305, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 0, 0, 257, 258, 259, 264, 0, 0, 257, 258, 259, 264, 2889, 2890, 257, 258, 259, 264, 0, 0, 289, 289, 289, 289, 289, 289, 289, 289, 0, 0, 0, 0, 0, 0, 0, 392, 327, 328, 519], 
			[519, 0, 0, 273, 274, 275, 280, 0, 0, 273, 274, 275, 280, 2979, 2980, 273, 274, 275, 280, 0, 0, 305, 305, 305, 305, 305, 305, 305, 305, 0, 0, 0, 0, 0, 0, 0, 408, 343, 344, 519], 
			[519, 0, 0, 0, 0, 0, 392, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1093, 1094, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 392, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 408, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1183, 1184, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 408, 0, 0, 519], 
			[519, 0, 0, 257, 258, 259, 264, 0, 0, 257, 258, 259, 264, 0, 0, 257, 258, 259, 264, 0, 0, 0, 1273, 1274, 257, 258, 259, 264, 0, 0, 327, 328, 392, 392, 392, 327, 328, 0, 0, 519], 
			[519, 0, 0, 273, 274, 275, 280, 0, 0, 273, 274, 275, 280, 0, 0, 273, 274, 275, 280, 0, 0, 0, 1363, 1364, 273, 274, 275, 280, 0, 0, 343, 344, 408, 408, 408, 343, 344, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 0, 0, 0, 392, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 0, 0, 0, 408, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 2709, 2710, 257, 258, 259, 264, 0, 0, 257, 258, 259, 264, 2889, 2890, 257, 258, 259, 264, 0, 0, 0, 1093, 1094, 257, 258, 259, 264, 257, 258, 259, 264, 257, 258, 259, 264, 392, 0, 0, 519], 
			[519, 2799, 2800, 273, 274, 275, 280, 0, 0, 273, 274, 275, 280, 2979, 2980, 273, 274, 275, 280, 0, 0, 0, 1183, 1184, 273, 274, 275, 280, 273, 274, 275, 280, 273, 274, 275, 280, 408, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 0, 0, 0, 2889, 2890, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1273, 1274, 0, 0, 0, 0, 391, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 0, 0, 0, 0, 0, 0, 0, 0, 2979, 2980, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1363, 1364, 0, 0, 0, 0, 407, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 519], 
			[519, 1533, 1534, 0, 0, 1533, 1534, 0, 0, 0, 0, 0, 0, 1533, 1534, 0, 0, 0, 0, 0, 0, 0, 289, 289, 289, 0, 0, 0, 391, 0, 0, 0, 0, 172, 187, 187, 187, 187, 187, 519], 
			[519, 1623, 1624, 0, 0, 1623, 1624, 0, 0, 0, 0, 0, 0, 1623, 1624, 0, 0, 0, 0, 0, 0, 0, 305, 305, 305, 0, 0, 0, 407, 0, 0, 0, 0, 204, 441, 425, 505, 1, 1, 519], 
			[519, 1713, 1714, 0, 0, 1713, 1714, 0, 0, 0, 0, 0, 0, 1713, 1714, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 204, 489, 457, 473, 1, 1, 519], 
			[519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519, 519]];


easystar.setGrid(level);

easystar.setIterationsPerCalculation(10000000); 

easystar.setAcceptableTiles([0]);


// ************ SEEKING **************

var currentPlayerXtile;
var currentPlayerYtile;

var currentEnemyXtile;
var currentEnemyYtile;
var currentEnemy2Xtile;
var currentEnemyY2tile;

var currentNextPointX; // next movement point in X
var currentNextPointY; // next movement point in Y

var enemyDirection = "STOP";
var enemy2Direction = "STOP";

//************* TILES ***************

var tileSize = 32;
var mapSizeX = 25;
var mapSizeY = 19

// **********************************

//**********************************************************

var game = new Phaser.Game(800, 600, Phaser.CANVAS, 'phaser-example');



game.state.add("boot",boot);
game.state.add("preload", preload);
game.state.add("level1",level1BM);
game.state.start("boot");